<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formular Ajutaviata</title>
  <!-- Include pdf-lib (or jsPDF) for PDF manipulation -->
  <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>
  <link rel="stylesheet" href="Styles.css">
</head>
<body>

  <div class="container">
    <!-- Main Title (optional) -->
    <h1 class="title">Completează Formularul 230</h1>

    <!-- SECTION 1: Date de identificare -->
    <h2 class="section-title">Date de identificare</h2>
    <fieldset>
      <div class="form-row">
        <!-- Nume -->
        <div class="form-group">
          <label for="nume">Nume*</label>
          <input
            type="text"
            id="nume"
            name="nume"
            maxlength="50"
            pattern="[A-Za-zĂÂÎȘȚăâîșț\s]+"
            required
          />
        </div>
        <!-- Inițiala tatălui -->
        <div class="form-group">
          <label for="initialaTatalui">Inițiala tatălui</label>
          <input
            type="text"
            id="initialaTatalui"
            name="initialaTatalui"
            maxlength="1"
            pattern="[A-Za-zĂÂÎȘȚăâîșț]"
          />
        </div>
        <!-- Prenume -->
        <div class="form-group">
          <label for="prenume">Prenume*</label>
          <input
            type="text"
            id="prenume"
            name="prenume"
            maxlength="50"
            pattern="[A-Za-zĂÂÎȘȚăâîșț\s]+"
            required
          />
        </div>
      </div>

      <div class="form-row">
        <!-- CNP -->
        <div class="form-group">
          <label for="cnp">CNP*</label>
          <input
            type="text"
            id="cnp"
            name="cnp"
            maxlength="13"
            pattern="\d{13}"
            required
          />
        </div>
        <!-- Email -->
        <div class="form-group">
          <label for="email">Adresă e-mail</label>
          <input
            type="email"
            id="email"
            name="email"
          />
        </div>
        <!-- Telefon -->
        <div class="form-group">
          <label for="telefon">Telefon Mobil</label>
          <input
            type="text"
            id="telefon"
            name="telefon"
            pattern="^07[0-9]{8}$"
          />
        </div>
      </div>
    </fieldset>

    <!-- SECTION 2: Adresa de domiciliu -->
    <h2 class="section-title">Adresa de domiciliu (așa cum apare în Cartea de Identitate)</h2>
    <fieldset>
      <div class="form-row">
        <!-- Județ -->
        <div class="form-group">
          <label for="judet">Județ*</label>
          <select id="judet" name="judet" required>
            <option value="">Selectează județul</option>
            <!-- Populated via script.js -->
          </select>
        </div>
        <!-- Localitate -->
        <div class="form-group">
          <label for="localitate">Localitate*</label>
          <select id="localitate" name="localitate" required>
            <option value="">Selectează localitatea</option>
            <!-- Populated dynamically via script.js -->
          </select>
        </div>
        <!-- Număr -->
        <div class="form-group">
          <label for="numar">Număr*</label>
          <input
            type="text"
            id="numar"
            name="numar"
            maxlength="10"
            pattern="[A-Za-z0-9]+"
            required
          />
        </div>
      </div>

      <div class="form-row">
        <!-- Stradă -->
        <div class="form-group">
          <label for="strada">Stradă*</label>
          <input
            type="text"
            id="strada"
            name="strada"
            maxlength="50"
            pattern="[A-Za-z0-9\s]+"
            required
          />
        </div>
        <!-- Bloc -->
        <div class="form-group">
          <label for="bloc">Bloc</label>
          <input
            type="text"
            id="bloc"
            name="bloc"
            maxlength="10"
            pattern="[A-Za-z0-9]+"
          />
        </div>
        <!-- Scară -->
        <div class="form-group">
          <label for="scara">Scară</label>
          <input
            type="text"
            id="scara"
            name="scara"
            maxlength="10"
            pattern="[A-Za-z0-9]+"
          />
        </div>
      </div>

      <div class="form-row">
        <!-- Etaj -->
        <div class="form-group">
          <label for="etaj">Etaj</label>
          <input
            type="text"
            id="etaj"
            name="etaj"
            maxlength="10"
            pattern="[A-Za-z0-9]+"
          />
        </div>
        <!-- Apartament -->
        <div class="form-group">
          <label for="apartament">Apartament</label>
          <input
            type="text"
            id="apartament"
            name="apartament"
            maxlength="10"
            pattern="[A-Za-z0-9]+"
          />
        </div>
        <!-- Cod Poștal -->
        <div class="form-group">
          <label for="codPostal">Cod Poștal</label>
          <input
            type="text"
            id="codPostal"
            name="codPostal"
            maxlength="10"
            pattern="\d+"
          />
        </div>
      </div>
    </fieldset>

    <!-- SECTION 3: Semnează și trimite formularul -->
    <h2 class="section-title">Semnează și trimite formularul</h2>
    <fieldset>
      <!-- Perioada redirecționării -->
      <div class="form-row">
        <div class="form-group checkbox-group">
          <input
            type="checkbox"
            id="an1"
            name="perioada"
            value="1 an"
            required
          />
          <label for="an1">1 an</label>
        </div>
        <div class="form-group checkbox-group">
          <input
            type="checkbox"
            id="an2"
            name="perioada"
            value="2 ani"
            required
          />
          <label for="an2">2 ani</label>
        </div>
      </div>

      <!-- Consimțământ date -->
      <div class="form-row">
        <div class="form-group checkbox-group">
          <input
            type="checkbox"
            id="consimtamantDate"
            name="consimtamantDate"
          />
          <label for="consimtamantDate">
            Sunt de acord ca datele de identificare (nume, prenume și cod numeric personal/număr de identificare fiscală), precum și suma direcționată să fie comunicate entității beneficiare.
          </label>
        </div>
      </div>

      <!-- Semnătură -->
      <div class="form-row">
        <div class="form-group signature-container">
          <canvas id="signatureCanvas"></canvas>
          <button type="button" id="clearSignature">Șterge semnătura</button>
        </div>
      </div>

      <!-- Consimțământ termeni -->
      <div class="form-row">
        <div class="form-group checkbox-group">
          <input
            type="checkbox"
            id="consimtamantTerms"
            name="consimtamantTerms"
            required
          />
          <label for="consimtamantTerms">
            Sunt de acord cu
            <a href="https://ajutaviata.ro/" target="_blank">
              Termenii și Politica de Confidențialitate a Asociației
            </a>
          </label>
        </div>
      </div>

      <!-- Vreau să primesc formularul completat pe e-mail -->
      <div class="form-row">
        <div class="form-group checkbox-group">
          <input
            type="checkbox"
            id="sendByEmail"
            name="sendByEmail"
          />
          <label for="sendByEmail">
            Vreau să primesc formularul completat pe e-mail
          </label>
        </div>
      </div>

      <!-- Form Buttons -->
      <div class="form-buttons">
        <button type="button" id="previewForm">Previzualizează formularul</button>
        <button type="reset" id="resetForm">Resetează formularul</button>
        <button type="submit" id="submitForm">Completează și trimite formularul</button>
      </div>
    </fieldset>
  </div>

  <!-- Modal for PDF Preview -->
  <div id="modalPreview" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <iframe id="pdfPreview" style="width:100%; height:500px;"></iframe>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
